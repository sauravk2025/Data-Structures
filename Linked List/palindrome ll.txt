#include<stdio.h>
#include<stdlib.h>

struct node
{
    char c;
    struct node*next;
    struct node*prev;
}*start=NULL,*newnode;

char a[100];


void create(struct node*s)
{
    int i;
    struct node*ptr;
    //ptr=s;
    newnode->c=a[0];
    for(i=1;a[i]!='\0';i++)
    {
        newnode=(struct node*)malloc(sizeof(struct node));
        newnode->c=a[i];
        newnode->next=NULL;
        newnode->prev=NULL;
        ptr=s;
        while(ptr->next!=NULL)
        {
            ptr=ptr->next;
        }
        ptr->next=newnode;
        newnode->prev=ptr;
       // ptr=ptr->next;
    }
    
}


void check(struct node*s)
{
    int f=0;
    struct node*ptr1;
    struct node*ptr2;
    ptr1=s;
    ptr2=s;
    
    while(ptr1->next!=NULL)
    {
        ptr1=ptr1->next;
    }
    
    while(ptr1!=NULL && ptr2!=NULL)
    {
        if(ptr1->c!=ptr2->c)
        {
            f=1;
            printf("\nnot");
            break;
        }
        ptr1=ptr1->prev;
        ptr2=ptr2->next;
        
        
    }
    
    
    if(f==0)
    {
        printf("\npalindrome");
    }
    
    
    
}



void display(struct node*s)
{

  struct node*ptr;
  ptr=s;
 /* while(ptr->next!=NULL)
  {
      ptr=ptr->next;
  }*/
  while(ptr!=NULL)
  {
      printf("%c",ptr->c);
      ptr=ptr->next;
  }

    
}




void main()
{
    
    int i,count=0;
    
    printf("Enter:");
    gets(a);
    puts(a);
    
    for(i=0;a[i]!='\0';i++)
    {
        count++;
    }
    printf("length is:%d\n",count);
    
    newnode=(struct node*)malloc(sizeof(struct node));
    newnode->next=NULL;
    newnode->prev=NULL;
    start=newnode;
    
    create(start);
    display(start);
    
    check(start);
    
}